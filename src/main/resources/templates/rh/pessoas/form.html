<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
  <meta charset="UTF-8" />
  <title>Sistema de Gest√£o de Pessoas</title>
  <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

   <script type="text/javascript">
    $(function() {
      $("#nomeCidade").autocomplete({
        source: "cidadesNomeAutoComplete",
        minLength: 3,
        select: function(event, ui) {
          this.value = ui.item.label;
          $("#idCidade").val(ui.item.value);
          return false;
        }
      });

      $("#nomeDepartamento").autocomplete({
        source: "departamentosNomeAutoComplete",
        minLength: 3,
        select: function(event, ui) {
          this.value = ui.item.label;
          $("#idDepartamento").val(ui.item.value);
          return false;
        }
      });
    });
  </script>

</head>
<body>
<header> </header>

<div class="container my-2">
  <h2>Editar Pessoa</h2>
  <form action="#" th:action="@{/rh/pessoas/salvar}" th:object="${pessoa}" method="POST">
    <input type="hidden" id="id" th:field="*{id}">

    <span th:if="${#fields.hasErrors('nome')}" th:errors="*{nome}" class="text-danger"></span>
    <input type="text" th:field="*{nome}" placeholder="Nome" class="form-control mb-4 col-4">
    <input type="date" th:field="*{dataNascimento}" placeholder="Data Nascimento" class="form-control mb-4 col-4">

    <span th:if="${#fields.hasErrors('cpf')}" th:errors="*{cpf}" class="text-danger"></span>
    <input type="text" th:field="*{cpf}" placeholder="CPF" class="form-control mb-4 col-4">

    <span th:if="${#fields.hasErrors('email')}" th:errors="*{email}" class="text-danger"></span>
    <input type="text" th:field="*{email}" placeholder="Email" class="form-control mb-4 col-4">
    <input type="text" th:field="*{telefone}" placeholder="Telefone" class="form-control mb-4 col-4">

<!--&lt;!&ndash;    <span th:if="${#fields.hasErrors('cidade')}" th:errors="*{cidade}" class="text-danger"></span>&ndash;&gt;-->
<!--    <input id="nomeCidade" type="text" th:field="*{nomeCidade}" placeholder="Cidade" class="form-control mb-4 col-4">-->
<!--    <input id="idCidade" type="hidden" th:field="*{cidade}" class="form-control mb-4 col-4">-->

<!--    <span th:if="${#fields.hasErrors('departamento')}" th:errors="*{departamento}" class="text-danger"></span>-->
<!--    <input id="nomeDepartamento" type="text" th:field="*{nomeDepartamento}" placeholder="Departamento" class="form-control mb-4 col-4">-->
<!--    <input id="idDepartamento" type="hidden" th:field="*{departamento}" class="form-control mb-4 col-4">-->

    <button type="submit" class="btn btn-info col-2">Salvar</button>
  </form>
  <hr>
  <a th:href="@{/rh/pessoas}">Retornar para a lista de pessoas</a>
</div>
</body>
</html>